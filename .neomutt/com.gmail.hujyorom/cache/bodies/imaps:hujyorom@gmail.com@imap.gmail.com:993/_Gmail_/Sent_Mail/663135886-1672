Return-Path: <hujyorom@gmail.com>
Received: from [192.168.41.18] (83.78.30.125.dy.iij4u.or.jp. [125.30.78.83])
        by smtp.gmail.com with ESMTPSA id x4sm48321544pgi.76.2020.03.12.05.48.33
        for <girl.search01@gmail.com>
        (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
        Thu, 12 Mar 2020 05:48:34 -0700 (PDT)
From: Masashi Endo <hujyorom@gmail.com>
Subject: =?UTF-8?B?MjAyMDAzMTLml6XloLEyX21lbW8=?=
To: girl.search01@gmail.com
Message-ID: <d99c9780-d9b5-b236-78fe-7ddd6dd13fe8@gmail.com>
Date: Thu, 12 Mar 2020 21:48:28 +0900
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:68.0) Gecko/20100101
 Thunderbird/68.5.0
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Language: en-US
Content-Transfer-Encoding: 8bit




作業中
-------------------------------------------------------
# RCS #
●仕様確認
　◆"業務覚書.txt"に記載の"implement.pptx"を読み込み、RCSの仕様を確認中
　◆構築した検証環境で、RCSの動作を確認中
　フォルダ:
　　/Dropbox(長野システム開発株式会社)/700_技術開発部/720_RCS・RSS/RCSサーバ構築/RCS開発環境構築
　ファイル:
　　業務覚書.txt
　Github:
　　/NaganoSystemDevelopment/armeria/documents/implement.pptx
　　-> 3/12 引き続き確認中

●バリデーションエラーについて
　-> 3/12 下村様からヒアリング
　◆管理者が商品を削除したときに、ユーザ側でカートに商品を追加していると(チェックアウトしていない状態のとき)不具合が発生する
　　・原因として、当該処理中に中間テーブル上レコードの論理削除が行われるが、
　　　カテゴリに関連づいているテーブルのレコードは完全に削除されて、
　　　Ajaxの処理が間に合わないときに、当該エラーが発生すると思われるとのこと

●レガシー環境から新しい環境への移行検討
　-> 3/12 下村様からヒアリング
　◆PHPを最新版7.x.xに出来ない
　　・Zendが7.x.xのPHPに未対応のため
　　・WEBサーバ(Nginx)は可能

●旧バグ/Wiki管理(Redmine)システムについて
　-> 3/12 Redmineの遠藤用のアカウントを下村様に作成いただいた
　　◆Vagrantの検証環境の作成は、当該Wikiを参照して下村様は作成
　　　このため、Dropbox上の手順と食い違いがある　
　　◆Redmineに使用しているEC2は社外公開しておらず、パフォーマンスは特別必要ないので、インスタンスタイプは小さくすることが可能
　　　※t1.micro -> nano とする予定
　　　※下村様に確認済み


# MINO #
●検証環境を構築
　-> 3/12 下村様からVagrantの設定ファイルを共有いただいた
　　・websample.naganosd.comの、さくらのVPSサーバの設定ファイル保存先を共有いただいた
　　　保存先: /Dropbox/home/500_共有/530_自社アカウント情報/www.naganosd.comログイン
●Backlog課題の整理
　◆成果物用の課題作成
　　-> 3/12 親にMINO-9(納品物)を作成して、子にMINO-10/11/12/13を作成
　◆下村様作成済みの課題(MINA-4)は、粒度的に作成途中の画面の作業に対応するものだったため、
　　-> 3/12 各画面のタスク管理用の課題として扱ったほうが良いと、提案


# AWS #
●プラン見直し
　◆停止しているインスタンスのほぼ全てに、EBSが関連付けられている
　　このため、不要な費用が発生している
　　Redmineが動作しているインスタンスが2つあり、セキュリティグループはWalts
　　RCSと関係ないインスタンスであれば、タグ付をして、RCSの費用計算外としたい
　　RCSと関係あるインスタンスであれば、T1.micro -> T2.nanoにインスタンスタイプを変更して、費用を削減したい
　　-> 3/12 下村様よりRedmineについては、社外公開用などではないとのこと
　　-> ただし、2つの内1つ(ip: 54.178.113.120)は今までのRCSで使用してきたインスタンスだが、もう一つ(ip: 54.238.51.139)は用途不明とのこと

　◆RI(リザーブドインスタンス)
　　途中でインスタンスタイプを変更すると、割引適用外となってしまうので、過去にBacklogのHAMA-42で議論された、CPU負荷の問題点を明らかにしてから、検討したほうが良いと推察される
　　-> 3/12 CPU高負荷の原因はバックアップによるもので、利用者のアクセスは無関係
　　-> インスタンスタイプをc3.largeから安価なタイプに変更しても、RCSのサービス自体に影響はないと思われる
　　-> しかし、c3.largeは古いインスタンスタイプのため、新しいインスタンスタイプに移行するにはAMIが未対応とのこと(下村様に確認済み)
　　-> 明日(3/13)移行方法、およびどのインスタンスタイプへの移行が適切なのか調査を進める

●コストマネジメントのレポート機能有効化
　◆タグの有効化
　-> 3/12 両方の機能を有効化した

●利用状況の確認
　◆お教えいただいたアカウントにて、現状の構成の確認
　　取り急ぎ、RDSへの移行状況について下村様に質問をして、回答待ち
　　-> 3/12 下村様より以下のとおり回答いただいた
　　　▼EC2上のDB → RDS
　　　　・RDSに移行したほうが料金が高くなるので、現状はEC2のままの方が良い


作業予定
-------------------------------------------------------
◆BacklogおよびTeamsのWiki
下村様からヒアリングした内容について、RCSとMINOのWikiにまとめていく


保留
-------------------------------------------------------
◆ipadによる動作確認
ipadおよびmacを所持していないため、ブラウザでの確認以外に、実機での確認が必要であればipadを借用したい
-> 3/9 登内様より貸出可能との回答
-> 3/12 下村様より、所持している2台のうち1台を遠藤宛に送付いただけるとのこと


作業済み
-------------------------------------------------------



