Received: from Kx250 (125.30.77.206) by
 TYXPR01CA0059.jpnprd01.prod.outlook.com (2603:1096:403:a::29) with Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.3412.22 via Frontend Transport; Mon, 28 Sep 2020 08:23:21 +0000
Date: Mon, 28 Sep 2020 17:23:19 +0900
From: masashiendou <endo_masashi@naganosd.com>
To: NSD Mizuki Tonouchi <tonouchi_mizuki@naganosd.com>
Cc: tanahashi_katsuhiro@naganosd.com
Subject: =?utf-8?B?MjAyMDA5Mjjml6XloLEgKOmBoOiXpCk=?=
Message-ID: <20200928082319.ohuaddbkqi3eapqh@Kx250>
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:68.0) Gecko/20100101
 Thunderbird/68.7.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Language: en-US
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
X-MS-Exchange-Organization-ExpirationStartTime: 28 Sep 2020 08:23:21.8730
 (UTC)
X-MS-Exchange-Organization-ExpirationStartTimeReason: OriginalSubmit
X-MS-Exchange-Organization-ExpirationInterval: 1:00:00:00.0000000
X-MS-Exchange-Organization-ExpirationIntervalReason: OriginalSubmit
X-MS-Exchange-Organization-Network-Message-Id:
 43d9d5c3-151a-4d0b-5b1e-08d86387c326
X-MS-Exchange-Organization-AuthSource: HK0PR06MB2739.apcprd06.prod.outlook.com
X-MS-Exchange-Organization-AuthAs: Internal
X-MS-Exchange-Organization-AuthMechanism: 06
X-Originating-IP: [125.30.77.206]
X-ClientProxiedBy: TYXPR01CA0059.jpnprd01.prod.outlook.com
 (2603:1096:403:a::29) To HK0PR06MB2739.apcprd06.prod.outlook.com
 (2603:1096:203:55::19)
X-MS-Exchange-Organization-MessageDirectionality: Originating
Return-Path: endo_masashi@naganosd.com
MIME-Version: 1.0

登内様・棚橋様

遠藤です

9/28(月)の作業進捗を送ります。

MINO-145(0.5日)の作業を進めました。
MINO-145の作業に手間取ってしまい、残作業があります。

以下残作業で、あと約4時間で終了の見込みです
MINO-144
　仕様書の不足部分の加筆、清書
MINO-145/149
　バリデーション実装に伴う、製作出荷情報の運送会社プルダウンの初期化処理。
　select2適用フォーム(営業所/送り先選択)のバリデーション。
　送り先関連と製作場所以外の桁数制限のバリデーション、郵便番号/電話番号の数字のバリデーション。

以下develop2ブランチ commit hash"b971e6e"で作業中です。
githubの差分
Implementing for MINO-144/145/149_12
https://github.com/NaganoSystemDevelopment/mino/commit/96fc828896e16aa0982a4039cc2a7a3d9eda954a
Implementing for MINO-144/145/149_11
https://github.com/NaganoSystemDevelopment/mino/commit/b971e6e69eb4004185ed9e9f3b0a8e37f6903565
Implementing for MINO-144/145/149_10
https://github.com/NaganoSystemDevelopment/mino/commit/922ab617630cfd1e1bc35186b6859763a43a8d42

引き続き、MINO-144/145/149の作業を進めます。

・作業中のBacklog課題
　MINO-144 バリデーション仕様策定
　　-> 作業中(稼働中:2.25日)
　　　　※2.5日で終了予定(予定通り)
　MINO-145 バリデーションの実装
　　-> 作業中(稼働中:0.875日) + 0.5日
　　　　※1.5日で終了予定(1.0日超過)
　MINO-149 製作出荷詳細: 送付先関連のバリデーションの実装
　　-> 作業中(稼働中:0.75日)
　　　　※1.0日で終了予定(0.5日超過)
   MINO-245 明細を開き、更新をクリックすると500エラーが発生する。
　　-> 作業中(稼働中:0.75日) / commit hash"30f8a9a"の修正が不十分だったので再度修正中

・保留の作業
　"MINO-250 バーコードスキャン時にダウンロード画面が表示されないように制御する"
　　Ctrl + Jの文字コードを無視する実装の工数算出
　　※ JavaScriptで当文字コードを実行させないコーディングの工数は0.5日あれば実装出来るが、
　　　対象画面でフックさせる条件の確認に0.5日程度かかる見込み

> 棚橋さん
> バリデーションの件                                                                                                                     記載以外はテキスト入力だけのような気がします。
> こちらはDB文字数制限のチェックのみでよいと思います。
> バリデーションAPIの検証含めての実装
> 以下は実装は進めて頂いて問題ありません。（他は144確認後で良いかと思います）
> 　・MINO-149：バックログ記載の通り
> 　・MINO-145：梱包数　空白、0-99(数字)
> 　・MINO-145：日付の箇所（希望出荷と配達指定日）
> 　・MINO-145：〒1　3桁必須-数字
> 　・MINO-145：〒2　4桁必須-数字
> 　　　　　　　→　両方空白
> 　・MINO-145：電話　3桁まで数字-4桁まで数字-4桁まで数字
> 　　　　　　　→　３つとも空白
バリデーションについて、承知しました。

> 指示書検索入力欄の件ですが、MINO-250に追記していますが、
> 明細開くと、指示書No入力が全角入力になっています。
> この状態でバーコードスキャンすると全角で入ってしまいます。
> 全角だと、検索でひっかからないので、
> 入力モードを半角にするか、入力値を常に半角へ変換し処理でもよいです。
> PHPだとそれらしい関数があるようですが、javascriptだと、やや面倒そうなので
> cssで入力モード指定で良いと思います。
> https://www.tagindex.com/stylesheet/form/ime_mode.html
MINO-250の全角入力について、承知しました。

　以下AWS周りのタスクをBacklogの課題として登録する
　　# AWS #
　　●旧バグ/Wiki管理(Redmine)システムについて
　　　-> 3/12 Redmineの遠藤用のアカウントを下村様に作成いただいた
　　　-> 3/13 バックログに当作業の課題を登録した
　　　　 インスタンスタイプの変更は着手できなかったため、3/16以降で調整する
　　　　　　　当作業により変動する費用の概算を課題に記載した
　　　　　　　　※補足：停止しているインスタンスに関するEBSについては、何かしかのバックアップをしておく予定
　　　　　　　　　　　　取得したバックアップはDropboxに保管予定
　　　　　　　　　　　　EBS全体の容量は1TB、しかし実用量は100GB未満と思われる
　　　　　　　　　　　　当作業は、課題を概要にまとめて実作業は来週以降の予定
　　　　◆Vagrantの検証環境の作成は、当該Wikiを参照して下村様は作成
　　　　　このため、Dropbox上の手順と食い違いがある　
　　　　◆Redmineに使用しているEC2は社外公開しておらず、パフォーマンスは特別必要ないので、インスタンスタイプは小さくすることが可能
　　　　　※t1.micro -> nano とする予定
　　　　　※下村様に確認済み
　　
　　●プラン見直し
　　　◆停止しているインスタンスのほぼ全てに、EBSが関連付けられている
　　　　このため、不要な費用が発生している
　　　　Redmineが動作しているインスタンスが2つあり、セキュリティグループはWalts
　　　　RCSと関係ないインスタンスであれば、タグ付をして、RCSの費用計算外としたい
　　　　RCSと関係あるインスタンスであれば、T1.micro -> T2.nanoにインスタンスタイプを変更して、費用を削減したい
　　　　-> 3/12 下村様よりRedmineについては、社外公開用などではないとのこと
　　　　-> ただし、2つの内1つ(ip: 54.178.113.120)は今までのRCSで使用してきたインスタンスだが、もう一つ(ip: 
　　54.238.51.139)は用途不明とのこと
　　
　　　◆RI(リザーブドインスタンス)
　　　　途中でインスタンスタイプを変更すると、割引適用外となってしまうので、過去にBacklogのHAMA-42で議論された、CPU負荷の問題点を明らかにしてから、検討したほうが良いと推察される
　　　　-> 3/12 CPU高負荷の原因はバックアップによるもので、利用者のアクセスは無関係
　　　　-> インスタンスタイプをc3.largeから安価なタイプに変更しても、RCSのサービス自体に影響はないと思われる
　　　　-> 
　　しかし、c3.largeは古いインスタンスタイプのため、新しいインスタンスタイプに移行するにはAMIが未対応とのこと(下村様に確認済み)
　　　　-> 3/16 以降、移行手順、およびどのインスタンスタイプへの移行が適切なのか調査を進める
　　
　　●AWS利用状況の確認
　　　◆お教えいただいたアカウントにて、現状の構成の確認
　　　　取り急ぎ、RDSへの移行状況について下村様に質問をして、回答待ち
　　　　-> 3/12 下村様より以下のとおり回答いただいた
　　　　　▼EC2上のDB → RDS
　　　　　　・RDSに移行したほうが料金が高くなるので、現状はEC2のままの方が良い
　　　　-> 3/16以降 BacklogまたはTeamsのWikiに、現状判明している内容を登録する

よろしくお願いします。

以上
-- 
長野システム開発株式会社
遠藤 將司 ( Masashi Endo )
e-Mail <endo_masashi@naganosd.com>
〒399-4301 長野県上伊那郡宮田村5672-2
URL: http://www.naganosd.com/
